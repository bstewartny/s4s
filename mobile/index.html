<!DOCTYPE html>
<html manifest="music.manifest">
<head>
<title>StarsOnStripes</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
<link rel="icon" type="image/png" href="iui/iui-favicon.png">
<link rel="apple-touch-icon" href="iui/iui-logo-touch-icon.png" />
<!-- to be used during app startup (320x460) -->
<!--<link rel="apple-touch-startup-image" href="startup.png"/>-->

<meta name="apple-mobile-web-app-capable" content="yes" />
<link rel="stylesheet" href="iui/iui.css" type="text/css" />

<link rel="stylesheet" id="iui-theme" title="iUI Theme" href="iui/t/default/default-theme.css"  type="text/css"/>
<script type="application/x-javascript" src="iui/iui.js"></script>
<script type="application/x-javascript" src="iui/js/iui-theme-switcher.js"></script>
<script type="application/x-javascript">iui.ts.basePath = "./iui/";</script>
<script type="application/x-javascript" src="iui/ext-sandbox/cache-manager/iui-cache-manager.js"></script>
<script type="application/x-javascript" src="music-app.js"></script>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script src="http://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyBBMDUkXGWZWDrf-hvMIJ8A4vnKdoKUVVo"></script>
<script>

    
    function renderPlaces()
    {
        iui.showPageById('places');
        // get places from api
        $.ajax({
            type:'GET',
            url:'http://www.starsonstripes.com/vetbiz/api/places/',
            dataType:'json',
            data:{
                lat:latitude,
                lon:longitude,
                radius:5000000},
            success:function(results){
                alert('got '+results.length+' places');
                var places=$('#places-rows');
                for(var i=0;i<results.length;i++)
                {
                    var result=results[i];
                    var place=result.fields;
                    $('<div>').addClass('r-row').text(place.name).appendTo(places);
                }
            }
        });
        // render into list
    }



    var latitude=40.440807;
    var longitude=-80.006561;
    var mapObject=null;
    function renderMap()
    {
        iui.showPageById('map');

        if(!mapObject)
        {
            var map=$('#map');

            var mapOptions={
                zoom:14,
                disableDefaultUI:true,
                draggable:false,
                scrollWheel:false,
                disableDoubleClickZoom:true,
                panControl:false,
                scaleControl:false,
                mapTypeControl:false,
                zoomControl:false,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                center:new google.maps.LatLng(latitude,longitude)
            };
            mapObject=new google.maps.Map(map[0],mapOptions);
        } 
    }

    function logout()
    {
        // clear cache
        // return to login/reg screen
        alert("TODO");
    }

    function login()
    {
        alert("TODO");
    }
    function signup()
    {
        alert("TODO");
    }

    
        $(document).ready(function(){
    


        });
</script>
<style>

    #home
    {
        background:url('images/bg1.png') no-repeat top left;background-size:320px auto;
    }
    #offers
    {
        background:url('images/bg2.png') no-repeat top left;background-size:320px auto;
    }
    #jobs
    {
        background:url('images/bg1.png') no-repeat top left;background-size:320px auto;
    }
    #charities
    {
        background:url('images/bg1.png') no-repeat top left;background-size:320px auto;
    }
    #places
    {
        background:url('images/bg1.png') no-repeat top left;background-size:320px auto;
    }
    
    .round-button
    {
        width:72px;
        height:72px;
        border-radius:36px;
        border-style:solid;
        border-color:white;
        border-width:2px;
        background-color:transparent;
        text-align:center;
        vertical-align:middle;
        margin-top:12px;
        margin-left:230px;
        color:white;
       -webkit-tap-highlight-color:rgba(0,0,0,0); 
        font-size:14px;
   }
    .round-button:active
    {
        background-color:lightgray;
    }

    .rows
    {
        max-height:400px;
        overflow-y:scroll;
        overflow-x:hidden;
        -webkit-overflow-scrolling:touch;
    }
    .r-row
    {
        height:34px;
        margin-left:20px;
        color:white;
        text-align:left;
        vertical-align:middle;
        padding-top:10px;
    }

</style>
</head>

<body>
    <div class="toolbar">
        <h1 id="pageTitle"></h1>
        <a id="backButton" class="button" href="#"></a>
        <a class="button" onclick="logout();">Logout</a>
    </div>
    
    <div id="home" title="StarsOnStripes" selected="true">
        <button class="round-button" onclick="renderMap();">Map</button>
        <button class="round-button"  onclick="renderPlaces();">Places</button>
        <button class="round-button"  onclick="iui.showPageById('offers');">Offers</button>
        <button class="round-button"  onclick="iui.showPageById('jobs');">Jobs</button>
        <button class="round-button"  onclick="iui.showPageById('charities');">Charity</button>
    </div>

    <div id="map" title="Places" >
    </div>

    <div id="places" title="Places">
        <div class="rows" id="places-rows">
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
            <div class="r-row">A place</div>
        </div>    
    </div>

    <div id="place" title="A place">
    
    </div>

    <div id="offers" title="Offers">
        <div class="rows">
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
            <div class="r-row">An offer</div>
        </div>
    </div>

    <div id="jobs" title="Jobs">
        <div class="rows">
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
            <div class="r-row">A Job</div>
        </div>
    </div>

    <div id="charities" title="Charities">
        <div class="rows">
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
            <div class="r-row">A Charity</div>
        </div>    
    </div>
    
    <form id="loginform" title="Login" class="panel" name="loginform" action="" method="get">
        <fieldset>
            <div class="row">
                <label>Username</label>
                <input type="text" name="username" placeholder="Your login">
            </div>
            <div class="row">
                <label>Password</label>
                <input type="password" name="password" placeholder="Your password">
            </div>
        </fieldset>
        <a class="redButton" href="javascript:login()">Log in</a>
    </form>

    <form id="signupform" title="Login" class="panel" name="signupform" action="" method="get">
        <fieldset>
            <div class="row">
                <label>Username</label>
                <input type="text" name="username" placeholder="Your login">
            </div>
            <div class="row">
                <label>Password</label>
                <input type="password" name="password" placeholder="Your password">
            </div>
            <div class="row">
                <label>Confirm Password</label>
                <input type="password" name="password" placeholder="Your password">
            </div>
        </fieldset>
        <a class="redButton" href="javascript:signup()">Sign Up</a>
    </form>

    

</body>
</html>
